# Docker Compose for OWASP ZAP Scanner Only
# Frontend and Backend run natively with Node.js (npm run dev / npm start)

version: '3.8'

services:
  # OWASP ZAP Scanner - Used for security vulnerability scanning
  zap:
    image: zaproxy/zap-stable
    container_name: zap-daemon
    restart: always
    ports:
      - "8080:8080"
    command:
      - "zap.sh"
      - "-daemon"
      - "-host"
      - "0.0.0.0"
      - "-port"
      - "8080"
      - "-config"
      - "api.addrs.addr.name=.*"
      - "-config"
      - "api.addrs.addr.regex=true"
      - "-config"
      - "api.key=ssdt-secure-zap-2025"
      - "-config"
      - "api.disablekey=false"
    networks:
      - app-network

  # WebCheck Scanner - Web security analysis tools
  webcheck:
    build: ./new
    container_name: ssdt-webcheck
    restart: always
    environment:
      - CHROME_PATH=/usr/bin/chromium
      - PORT=3002
      - WC_SERVER=true
    ports:
      - "3002:3002"
    networks:
      - app-network

networks:
  app-network:
    driver: bridge
